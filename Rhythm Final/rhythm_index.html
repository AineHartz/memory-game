<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rhythm Game</title>

    <!-- Inline CSS for styling the rhythm game interface -->
    <style>
        body 
        {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #b2e3a8; /* Light Green background */
            color: #0f0f0f; /* Black text */
            font-family: 'Press Start 2P', sans-serif; /* Pixelated font for Minecraft feel */
        }

        /* Styling for feedback text */
        .feedback 
        {
            font-size: 24px;
            margin-top: 20px;
        }

        /* Mode selection overlay. This code was so the game could run on it's own, and was unneeded after integration into site, so it's just hidden. */
        .menu-overlay  
        {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 1000;
        }

        /* Style for buttons in the mode selection menu. Also hidden with the above change! */
        .mode-button 
        {
            padding: 10px 20px;
            margin: 10px;
            font-size: 18px;
            cursor: pointer;
        }

        /* Next Round button styling */
        #next-round 
        {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            background-color: #fff;
            color: #222;
            border: none;
            cursor: pointer;
            display: none;  /* Hidden by default */
        }

        /* Quit button styling */
        #quit-button 
        {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            background-color: #fff;
            color: #222;
            border: none;
            cursor: pointer;
            display: none;  /* Hidden by default */
        }

        /* Canvas styling for rhythm visualization */
        #canvas 
        {
            background-color: #ADD8E6;
            margin-top: 20px;
            border: 1px solid #fff;
        }

        /* Center the entire game info container */
        #game-info
        {
            display: flex;
            justify-content: center;   
            align-items: center;       
            width: 100%;
            max-width: 500px;
            margin: 10px 0;
            font-size: 18px;
            text-align: center;
        } 

        /* Needed this so game info wasn't smashed together.*/
        #round-display, #mode-display, #mistake-display, #points-display
        {
            margin: 0 10px;
        }
    </style>
</head>

<body>

    <!-- Main title for the rhythm game -->
    <h1>Rhythm Game</h1>

    <!-- Display for Current Round and Game Mode -->
    <div id="game-info">
        <div id="round-display">Round:</div>
        <div id="mode-display">Mode:</div>
        <div id="mistake-display" style="display: none;">Mistakes:</div>
        <div id="points-display" style="display: none;">Points:</div>
    </div>

    <!-- Instruction for the player to use the spacebar to interact with the game -->
    <p>Press the spacebar to repeat the rhythm!</p>

    <!-- Feedback section to display game messages (e.g., "Waiting for rhythm...") -->
    <div class="feedback" id="feedback">Waiting for rhythm...</div>

    <!-- New stopwatch display for timing player input -->
    <div class="feedback" id="stopwatch">0.00</div>

    <!-- New stopwatch log display for tracking each beat's expected and actual times -->
    <div id="stopwatch-log" style="margin-top: 20px;">
        <!-- This container will be populated dynamically -->
    </div>

    <!-- Mode Selection Menu -->
    <div id="mode-selection-menu" class="menu-overlay">
        <h2>Select Game Mode</h2>
        <button id="relaxed-mode-button" class="mode-button">Relaxed Mode</button>
        <button id="survival-mode-button" class="mode-button">Survival Mode</button>
    </div>

    <!-- Canvas for visual rhythm display, where circles will expand to indicate beats -->
    <canvas id="canvas" width="400" height="400"></canvas>

    <!-- Button to proceed to the next round -->
    <button id="next-round" onclick="nextRound()">Next Round</button>

    <!-- Button to reset the game as if you just opened it -->
    <button id="quit-button" onclick="quitGame()">Quit</button>

    <!-- Link to the external JavaScript file with game logic -->
    <script src="rhythm_game.js"></script>

</body>

</html>